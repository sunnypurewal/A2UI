{
  "schema": "client_to_server.json",
  "tests": [

    {
      "description": "Valid action message",
      "valid": true,
      "data": {
        "version": "v0.10",
        "action": {
          "name": "submit",
          "surfaceId": "main",
          "sourceComponentId": "btn_submit",
          "timestamp": "2023-10-27T10:00:00Z",
          "context": {
            "foo": "bar"
          }
        }
      }
    },
    {
      "description": "Valid error message (validation failed)",
      "valid": true,
      "data": {
        "version": "v0.10",
        "error": {
          "code": "VALIDATION_FAILED",
          "surfaceId": "main",
          "path": "/components/0/text",
          "message": "Invalid type"
        }
      }
    },
    {
      "description": "Invalid updateDataModel (renamed)",
      "valid": false,
      "data": {
        "version": "v0.10",
        "updateDataModel": {
          "surfaceId": "main",
          "path": "/user/name",
          "value": "Alice"
        }
      }
    },
    {
      "description": "error: Valid with callId",
      "valid": true,
      "data": {
        "version": "v0.10",
        "error": {
          "code": "FUNCTION_FAILED",
          "functionCallId": "unique-call-id-132",
          "message": "Something went wrong"
        }
      }
    },
    {
      "description": "error: Invalid with BOTH callId and surfaceId",
      "valid": false,
      "data": {
        "version": "v0.10",
        "error": {
          "code": "FUNCTION_FAILED",
          "functionCallId": "unique-call-id-133",
          "surfaceId": "main",
          "message": "Something went wrong"
        }
      }
    },
    {
      "description": "error: Invalid with NEITHER callId nor surfaceId",
      "valid": false,
      "data": {
        "version": "v0.10",
        "error": {
          "code": "FUNCTION_FAILED",
          "message": "Something went wrong"
        }
      }
    }
  ]
}
